"use strict";window.onload=(()=>{var e=makeFunctionGraph("axiscanvas","funccanvas");e.ylim(-130,0),Promise.all([setupAudio("qdsproc.js","qds-processor"),window.fetch("audio/unfinite_function.mp3")]).then(function([t,n]){t.proc.w=16,t.proc.dither=!0,t.proc.dithertype="rect",t.proc.noiseshaping=!0,t.proc.noiseshapingfilter=1,setupPlayerControls(t,void 0,n.arrayBuffer());for(var c=new Float32Array(t.getFrequencyDomainData()),a=0;a<c.length;a++)c[a]=22050*a/(c.length-1);var o=new Float32Array(t.getTimeDomainData());for(a=0;a<o.length;a++)o[a]=a;var d=!1;!function n(){if(setTimeout(()=>requestAnimationFrame(n),40),d){var a=t.getTimeDomainData();e.drawData(o,a)}else a=t.getFrequencyDomainData(),e.drawData(c,a)}();var i=document.getElementById("linear");i.checked=!1,e.logx(!0),i.onchange=function(t){document.getElementById("wave").checked||e.logx(!t.target.checked)};var r=document.getElementById("wave");function g(){document.getElementById("dither").checked?document.getElementById("noiseshaping").checked?document.getElementById("diagram").src="images/qds/ns5.png":document.getElementById("diagram").src="images/qds/ns5b.png":document.getElementById("noiseshaping").checked?document.getElementById("diagram").src="images/qds/ns5c.png":document.getElementById("diagram").src="images/qds/ns5d.png"}r.checked=!1,r.onchange=function(t){(d=t.target.checked)?(e.logx(!1),e.ylim(-1,1),e.xlim(0,o.length-1)):(e.xlim(50,2e4),e.logx(!i.checked),e.ylim(-130,0))},document.getElementById("wordlength").value=16,document.getElementById("wordlength").onchange=function(e){t.proc.w=e.target.value},document.getElementById("dither").checked=!0,document.getElementById("dither").onchange=function(e){t.proc.dither=e.target.checked,g()},document.getElementById("noiseshaping").checked=!0,document.getElementById("noiseshaping").onchange=function(e){t.proc.noiseshaping=e.target.checked,g()},document.getElementById("dithertype").value="rect",document.getElementById("dithertype").onchange=function(e){t.proc.dithertype=e.target.value},document.getElementById("noiseshapingfilter").value=1,document.getElementById("noiseshapingfilter").onchange=function(e){t.proc.noiseshapingfilter=e.target.value}})});