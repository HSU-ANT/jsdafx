<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Audio Filters</title>
  <!-- build:remove -->
  <script src="https://unpkg.com/audioworklet-polyfill/dist/audioworklet-polyfill.js"></script>
  <!-- /build -->
  <!-- build:css inline build/jsdafx.css -->
  <link rel="stylesheet" href="jsdafx.css" />
  <!-- /build -->
  <script type="module" src="eq.js" ></script>
</head>
<body>
  <div id="header">
    <a href="index.html">jsdafx</a>
    <a href="https://www.hsu-hh.de/ant"><img src="images/ant_logo.png" id="logo"></a>
  </div>
  <div id="content">
    <h1>Audio Filters</h1>
    <!-- build:include playback_control_buttons.html -->
    <script id="_playback_controls">
    window.fetch("playback_control_buttons.html").then(
      (response) => response.text()
    ).then((txt) => {
      ctrls = document.createElement('template');
      ctrls.innerHTML = txt;
      scriptElem = document.getElementById("_playback_controls");
      scriptElem.parentElement.replaceChild(ctrls.content, scriptElem);
    });
    </script>
    <!-- /build -->
    <div id="graph" style="width: 500px; height: 300px; padding-top: 10px">
      <canvas id="funccanvas" width="500" height="300"></canvas>
    </div>
    <div style="width: 500px; padding-bottom: 10px; text-align: right">
      <input id="linear" type="checkbox" /><label for="linear">linear</label>
    </div>
    <div class="paramentrybox">
      <input id="bypass" type="checkbox" /><label for="bypass">Bypass</label>
      <select id="type">
        <option value="lowpass">LP-20</option>
        <option value="highpass">HP-20</option>
        <option value="lowshelving">LowShelvingFilter</option>
        <option value="highshelving">HighShelvingFilter</option>
        <option value="peak">PeakFilter</option>
      </select>
    </div>
    <p>
      This script demonstrates audio effects resulting from <b>Audio Filters</b>. It is
      designed for a first insight into the perceptual effect of filtering an audio signal.
      Besides the different filter functions and their acoustical effect the script offers
      a first insight into the logarithmic behavior of loudness and frequency resolution of
      our human acoustical perception.
    </p>
    <p>
      The following filter types can be set in the lower part of the user interface; their
      parameters can be controlled by dragging the red dot(s) in the frequency response graph.
    </p>
    <ul>
      <li> <b>Low-/High-pass filter</b> (LP/HP) with control parameter
        <ul>
          <li>cut-off frequency</li>
          <li>all frequencies above (LP) or below (HP) the cut-off frequency are attenuated
            according to the shown frequency response
          </li>
        </ul>
      </li>
      <li><b>Low/High-frequency shelving filter</b> (LFS/HFS) with control parameters
        <ul>
          <li>cut-off frequency fc</li>
          <li>boost/cut</li>
          <li>all frequencies below (LFS) or above (HFS) the cut-off frequency are
            boosted/cut according to the selected boost/cut
          </li>
        </ul>
      </li>
      <li><b>Peak filter</b> with control parameters
        <ul>
          <li>center frequency fc</li>
          <li>boost/cut</li>
          <li> Q-factor Q=fb/fc, which controls the bandwidth fb of the boost/cut around
            the adjusted center frequency fc. Lower Q-factor means wider bandwidth.
          </li>
          <li>the peak filter boosts/cuts the center frequency with a bandwidth adjusted
            by the Q-factor.
          </li>
        </ul>
      </li>
    </ul>
    <p>The center window shows the frequency response (filter gain versus frequency) of
      the selected filter functions. You can choose between a linear and a logarithmic
      frequency axis.
    </p>
    <p>
      You can choose between two predefined audio signals or your own local audio file to
      be processed.
    </p>
    <p>
      Predefined music signal "Funk" is licensed under
      <a href="https://creativecommons.org/licenses/by/3.0/">CC-BY-3.0</a> by
      <a href="https://soundcloud.com/unfinite">unfinite</a>.
    </p>
    <p>
      Predefined music signal "Orchestra" is licensed under
      <a href="https://creativecommons.org/licenses/by/3.0/">CC-BY-3.0</a> by
      <a href="https://soundcloud.com/captain-pretzel">Captain Pretzel</a>.
    </p>
  </div>
</body>
</html>
